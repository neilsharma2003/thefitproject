<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
    <title>The Fit Project - Personal Information</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.png" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</head>
<style>
</style>

<body style="text-align: center;">

    <% if(user) { %>
        <%- include('./partials/navin') %>
            <% } else { %>
                <%- include('./partials/navout') %>
                    <% } %>
                        <br><br><br><br><br>
                        <h3>User Details</h3>
                        <form id="user-form" style="width: 250rem; margin: 0 auto;">
                            <div class="form-group row">
                                <label for="staticEmail" class="col-sm-2 col-form-label"><b>Email</b></label>
                                <div class="col-sm-1">
                                    <input type="text" readonly class="form-control-plaintext" id="staticEmail"
                                        value="<%= user.email %>">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="calories" class="col-sm-2 col-form-label"><b>Calories</b></label>
                                <div class="col-sm-1">
                                    <input type="text" readonly class="form-control-plaintext" id="calories"
                                        value="<%= fitnessUser.calories %>">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="fitexperience" class="col-sm-2 col-form-label"><b>Years of Fitness
                                        Experience</b></label>
                                <div class="col-sm-1">
                                    <input type="text" readonly class="form-control-plaintext" id="fitexperience"
                                        value="<%= fitnessUser.yearsofFitness %>">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="fitexperience" class="col-sm-2 col-form-label"><b>Goals</b></label>
                                <div class="col-sm-1">
                                    <input type="text" readonly class="form-control-plaintext" id="goals"
                                        value="<%= fitnessUser.goals %>">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="fitexperience" class="col-sm-2 col-form-label"><b>Type of
                                        Training</b></label>
                                <div class="col-sm-1">
                                    <input type="text" readonly class="form-control-plaintext" id="fitmode"
                                        value="<%= fitnessUser.FitnessMode %>">
                                </div>
                            </div>
                        </form>
                        <hr><br>
                        <h3>Password Reset</h3><br>
                        <form action="/passwordreset" method="POST" id="passwordform"
                            style="display: inline-block; margin: 0 auto; width: 25%;">
                            <span>
                                <input type="password" class="form-control" name="currentpass"
                                    placeholder="Current Password" required>
                            </span><br>
                            <span>
                                <input type="password" class="form-control" name="newpass" placeholder="New Password"
                                    required>
                            </span><br>
                            <span>
                                <input type="password" class="form-control" name="confirmnewpass"
                                    placeholder="Confirm New Password" required>
                            </span><br>
                            <button type="submit" class="btn btn-primary" id="passwordbtn">Change Password</button>
                            <br><br>
                            <h4>
                                <%= wrong %>
                            </h4>
                        </form>
                        <br><br><br>

                        <script
                            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
                        <script>
                            window.addEventListener('DOMContentLoaded', event => {
                                // Collapse responsive navbar when toggler is visible
                                const navbarToggler = document.body.querySelector('.navbar-toggler');
                                const responsiveNavItems = [].slice.call(
                                    document.querySelectorAll('#navbarResponsive .nav-link')
                                );
                                responsiveNavItems.map(function (responsiveNavItem) {
                                    responsiveNavItem.addEventListener('click', () => {
                                        if (window.getComputedStyle(navbarToggler).display !== 'none') {
                                            navbarToggler.click();
                                        }
                                    })
                                })
                            })
                        </script>
</body>

</html>